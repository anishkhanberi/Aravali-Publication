<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
   <link rel="stylesheet" href="./top-seller.css">

    <!-- bootstrap Cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQ0Dh0I7H6rtrwz4/7P4lDj1p4EhsaZ68j5E6jz9xTr+vUu9KjkX7WNbj" crossorigin="anonymous">
</head>
<body>
    
    <div class="col-sm-12 topbar">
        <div class="col-sm-6 rightcontact">
            <a href=""> <i class="fa-brands fa-instagram"></i></a>
            <a href=""><i class="fa-brands fa-facebook-f"></i></a>
            <a href=""> <i class="fa-brands fa-x-twitter"></i> </a>
            <a href=""> <i class="fa-brands fa-whatsapp"></i> </a>
        </div>
        <div class="col-sm-6 techsupport">
            <ul>
                <a href="#">
                    <li>Contact Us</li>
                </a>
                <a href="#">
                    <li>FAQ</li>
                </a>
                <a href="#">
                    <li>About Us</li>
                </a>
            </ul>

        </div>


    </div>
    <div class="col-sm-12 navbar">
        <div class="col-sm-3 navbar-main">
            <div class="navbar-polygon">
                <img class="logo " src="./images/arawli_publication-removebg-preview.png" alt="">
            </div>
            <div class="navbar-poly"></div>
        </div>
        <div class="col-sm-3  nav-items">
            <ul>
                <li><i class="fa-solid fa-house"></i>Home</li>
                <li  id="categoryBtn"><i class="fa-solid fa-list"></i>Category</li>
                <li><i class="fa-regular fa-bookmark"></i>Top Seller</li>

            </ul>
        </div>
        <div class="col-sm-3 search-container">
            <input type="text" class="searchbar" placeholder="Search for books...">
            <i id="searchicon" class="fas fa-search search-icon"></i>
        </div>

        <div class="col-sm-3 contactsupport">
            <button class="SignUp"><i class="fas fa-user-plus"></i></button>
            <button class="wish-list"><i class="fa-regular fa-heart"></i></button>
            <a href="./cart.html">
                <button class="Cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count">0</span>
                </button>
            </a>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <ul>
            <a href="./top seller.html"><li><i class="fa-solid fa-star"></i> Top Seller</li></a>
           <a href="./new-edition.html"> <li><i class="fa-solid fa-book-open"></i> New Edition</li></a>
           <a href="./old-edition.html"> <li><i class="fa-solid fa-clock-rotate-left"></i> Old Edition</li></a>
        </ul>
    </div>


    <div class="bookscard">
        <div class="card">
            <img src="./images/book-removebg-preview.png" alt="Book 1" width="150">
           <div class="card-about"> 
            <h3 class="book-title">A book is a gift you can open again and again.</h3>
            <p>₹340.00 <s>₹450.00</s></p>
            <button class="buy-btn">Add to Cart</button>
           
        </div>

        </div>
        <div class="card">
            <img src="./images/books2-removebg-preview.png" alt="Book 2" width="150">
            <div class="card-about"> 
            <h3 class="book-title">Read to explore new worlds.</h3>
            <p>₹320.00 <s>₹400.00</s></p>
            <button class="buy-btn">Add to Cart</button>
        </div>
        </div>
        <div class="card">
            <img src="./images/books3-removebg-preview.png" alt="Book 3" width="150">
            <div class="card-about"> 
            <h3 class="book-title">Every book tells a story.</h3>
            <p>₹350.00 <s>₹400.00</s></p>
            <button class="buy-btn">Add to Cart</button>
           </div>
        </div>
        </div>
        <div class="bookscard1">
        <div class="card">
            <img src="./images/books3-removebg-preview.png" alt="Book 3" width="150">
            <div class="card-about"> 
            <h3 class="book-title">Every book tells a story.</h3>
            <p>₹350.00 <s>₹400.00</s></p>
          
            <button class="buy-btn">Add to Cart</button>
            </div>
        </div>
     
        <div class="card">
            <img src="./images/books3-removebg-preview.png" alt="Book 3" width="150">
            <div class="card-about">
            <h3 class="book-title">Every book tells a story.</h3>
            <p>₹350.00 <s>₹400.00</s></p>
            <button class="buy-btn">Add to Cart</button>
            </div>
        </div>
     
        <div class="card">
            <img src="./images/books3-removebg-preview.png" alt="Book 3" width="150">
            <div class="card-about">
            <h3 class="book-title">Every book tells a story.</h3>
            <p>₹350.00 <s>₹400.00</s></p>
            <button class="buy-btn">Add to Cart</button>
            </div>
        </div>
     
    </div>
<script>


document.addEventListener("DOMContentLoaded", function () {
    let urlParams = new URLSearchParams(window.location.search);
    let searchQuery = urlParams.get("search") ? urlParams.get("search").toLowerCase() : "";

    if (searchQuery) {
        document.querySelector(".searchbar").value = searchQuery; // Set search query in input box

        let books = document.querySelectorAll(".card");
        let found = false;

        books.forEach((book) => {
            let title = book.querySelector(".book-title").textContent.toLowerCase();
            if (title.includes(searchQuery)) {
                book.style.display = "block";
                found = true;
            } else {
                book.style.display = "none";
            }
        });

        // Agar koi result na mile toh "No books found!" message show kare
        if (!found) {
            let noResults = document.createElement("p");
            noResults.textContent = "No books found!";
            noResults.style.color = "red";
            noResults.style.fontWeight = "bold";
            noResults.style.textAlign = "center";
            document.querySelector(".books-container").appendChild(noResults);
        }
    }
});

    // add to cart
document.addEventListener("DOMContentLoaded", function () {
  let cartCount = localStorage.getItem("cartCount") ? parseInt(localStorage.getItem("cartCount")) : 0;
  let cartItems = JSON.parse(localStorage.getItem("cart")) || [];

  updateCartNotification();

  document.querySelectorAll(".buy-btn").forEach((button) => {
      button.addEventListener("click", function () {
          let bookCard = this.closest(".cards");
          let bookTitle = bookCard.querySelector(".book-title").textContent;
          let bookPrice = bookCard.querySelector("p").innerHTML;
          let bookImage = bookCard.querySelector("img").src;

          let book = {
              title: bookTitle,
              price: bookPrice,
              image: bookImage,
          };

          cartItems.push(book);
          cartCount++;

          localStorage.setItem("cart", JSON.stringify(cartItems));
          localStorage.setItem("cartCount", cartCount);

          updateCartNotification();
          alert("Book added to cart!");
      });
  });

  function updateCartNotification() {
      const cartBadge = document.getElementById("cart-count");
      if (cartBadge) {
          cartBadge.textContent = cartItems.length;
      }
  }
});



// search functionlity
document.getElementById("searchicon").addEventListener("click", function () {
        let searchQuery = document.querySelector(".searchbar").value.toLowerCase();
        let books = document.querySelectorAll(".card");
        
        books.forEach((book) => {
            let title = book.querySelector(".book-title").textContent.toLowerCase();
            if (title.includes(searchQuery)) {
                book.style.display = "block";
            } else {
                book.style.display = "none";
            }
        });
    });

    // Allow search on pressing Enter key
    document.querySelector(".searchbar").addEventListener("input", function () {
        if (this.value === "") {
            document.querySelectorAll(".card").forEach(book => book.style.display = "block");
        }
    });


    document.querySelector(".searchbar").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            document.getElementById("searchicon").click();
        }
    });


</script>
</body>
</html>